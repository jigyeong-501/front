<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test6_2.html</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        #calendar{
            width: 100%;
            margin: 20px 0;
            text-align: center;
        }
        #calendar th, #calendar td{
            height: 70px;
            padding: 10px;
        }
        #calendar thead{
            border-bottom: 2px solid #000;
        }
        #calendar tbody tr{
            border-bottom: 1px solid #ccc;
        }
    </style>
</head>

<body>
    <p><br /></p>
    <div class="container">
        <h3>달력</h3>
        <div>
            <input type="number" id="year" name="year" min="1900" max="3000">년
            <input type="number" id="month" name="month" min="1" max="12">월
            <input type="button" onclick="generateCalendar()" value="달력 표시" class="btn btn-success">
            <input type="button" onclick="location.reload()" value="초기화" class="btn btn-danger">
        </div>


        <table id="calendar">
            <thead>
                <tr>
                    <th>일</th>
                    <th>월</th>
                    <th>화</th>
                    <th>수</th>
                    <th>목</th>
                    <th>금</th>
                    <th>토</th>
                </tr>
            </thead>
            <tbody id="calendarBody"></tbody>
        </table>
    </div>
</body>
<script>
    'use strict';

    // 오늘날짜 : Date()
    // const today = new Date();
    // const year = today.getFullYear(); // 연도 4자리
    // const month = today.getMonth() + 1;   // 월 1자리(0월~11월)
    // const date = today.getDate();   // 일

    const today = new Date();
    document.getElementById("year").value = today.getFullYear();     // 2025
    document.getElementById("month").value = today.getMonth() + 1;   // 7월 (0부터 시작하므로 +1

    function generateCalendar() {
        const calendarBody = document.getElementById('calendarBody');
        calendarBody.innerHTML = ''; // 기존 내용 초기화

        let year = parseInt(document.getElementById('year').value);
        let month = parseInt(document.getElementById('month').value) - 1; // JS는 0~11월

        const firstDay = new Date(year, month, 1);       // 해당 월의 1일
        const lastDay = new Date(year, month + 1, 0);    // 해당 월의 마지막일
        const startDay = firstDay.getDay();              // 요일 (0:일~6:토)
        const totalDays = lastDay.getDate();             // 마지막 날짜 숫자

        let row = document.createElement('tr');

        // 빈 칸 삽입
        for (let i = 0; i < startDay; i++) {
            row.appendChild(document.createElement('td'));
        }

        for (let day = 1; day <= totalDays; day++) {
            const cell = document.createElement('td');
            cell.textContent = day;

            // 오늘 날짜 하이라이트
            const today = new Date();
            if (day === today.getDate() &&
                year === today.getFullYear() &&
                month === today.getMonth()) {
                cell.style.backgroundColor = '#ffd966'; // 노란색
            }

            row.appendChild(cell);

            if ((startDay + day) % 7 === 0 || day === totalDays) {
                calendarBody.appendChild(row);
                row = document.createElement('tr');
            }
        }
    }

    generateCalendar();


</script>

</html>